{"ast":null,"code":"var _jsxFileName = \"/Users/chrismiller/development/vschool/assignments/uglythingsapp/src/UglyContext.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ListContext = /*#__PURE__*/React.createContext();\n\nfunction UglyContext(props) {\n  _s();\n\n  const defaultThing = {\n    title: \"\",\n    imgUrl: \"\",\n    description: \"\"\n  };\n  const [thing, setThing] = React.useState(defaultThing);\n\n  function handleChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    setThing(prevThing => ({ ...prevThing,\n      [name]: value\n    }));\n  }\n\n  const [thingsArray, setThingsArray] = useState([]);\n  React.useEffect(() => axios.get(\"https://api.vschool.io/chrismiller/thing\").then(res => setThingsArray(res.data)).catch(err => console.log(err)), []);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const newThing = {\n      title: thing.title,\n      imgUrl: thing.imgUrl,\n      description: thing.description\n    };\n    axios.post(\"https://vschool.io/chrismiller/thing\", newThing).then(res => setThingsArray(prevThingsArray => [...prevThingsArray, res.data])).catch(err => console.log(err));\n    setThing(defaultThing);\n  }\n\n  function handleDelete(index) {\n    axios.delete(\"https://api.vschool.io/chrismiller/thing/\" + thingsArray[index]._id).then(res => setThingsArray(prevThingArray => {\n      return prevThingArray.filter(thing => thing._id !== thingsArray[index]._id);\n    })).catch(err => console.log(err));\n  }\n\n  const [edits, setEdits] = React.useState({\n    title: \"\",\n    imgUrl: \"\",\n    description: \"\"\n  });\n\n  function handleEditChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    setEdits(prevEdits => ({ ...prevEdits,\n      [name]: value\n    }));\n  }\n\n  const [isEditing, setIsEditing] = React.useState(-1);\n\n  function handleEditSave(index) {\n    thingsArray.map(thing => {\n      setIsEditing(-1);\n      axios.put(\"https://api.vschool.io/chrismiller/thing/\" + thingsArray[index]._id, edits).then(res => setThingsArray(prevThingsArray => {\n        return prevThingsArray.map(thing => {\n          return thing._id === thingsArray[index]._id ? edits : thing;\n        });\n      })).catch(err => console.log(err));\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(ListContext.Provider, {\n    value: {\n      edits,\n      isEditing,\n      setIsEditing,\n      setEdits,\n      handleEditSave,\n      handleEditChange,\n      handleChange,\n      handleDelete,\n      handleSubmit,\n      thing,\n      thingsArray,\n      setThingsArray\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 9\n  }, this);\n}\n\n_s(UglyContext, \"18QcYs1kAlGK+6b3Gz/gr6IkKf0=\");\n\n_c = UglyContext;\nexport { UglyContext, ListContext };\n\nvar _c;\n\n$RefreshReg$(_c, \"UglyContext\");","map":{"version":3,"sources":["/Users/chrismiller/development/vschool/assignments/uglythingsapp/src/UglyContext.js"],"names":["React","useState","axios","ListContext","createContext","UglyContext","props","defaultThing","title","imgUrl","description","thing","setThing","handleChange","event","name","value","target","prevThing","thingsArray","setThingsArray","useEffect","get","then","res","data","catch","err","console","log","handleSubmit","e","preventDefault","newThing","post","prevThingsArray","handleDelete","index","delete","_id","prevThingArray","filter","edits","setEdits","handleEditChange","prevEdits","isEditing","setIsEditing","handleEditSave","map","put","children"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\nimport axios from \"axios\"\n\nconst ListContext = React.createContext()\n\nfunction UglyContext(props) {\n    const defaultThing = {\n        title: \"\",\n        imgUrl: \"\",\n        description: \"\",\n    }\n\n    const [thing, setThing] = React.useState(defaultThing)\n\n    function handleChange(event) {\n        const { name, value } = event.target\n        setThing(prevThing => ({ ...prevThing, [name]: value }))\n    }\n\n    const [thingsArray, setThingsArray] = useState([])\n\n    React.useEffect(() =>\n        axios.get(\"https://api.vschool.io/chrismiller/thing\")\n            .then(res => setThingsArray(res.data))\n            .catch(err => console.log(err))\n        , [])\n\n    function handleSubmit(e) {\n        e.preventDefault()\n\n        const newThing = {\n            title: thing.title,\n            imgUrl: thing.imgUrl,\n            description: thing.description\n        }\n\n        axios.post(\"https://vschool.io/chrismiller/thing\", newThing)\n            .then(res => setThingsArray(prevThingsArray => (\n                [...prevThingsArray, res.data]\n            )))\n            .catch(err => console.log(err))\n\n        setThing(defaultThing)\n    }\n\n    function handleDelete(index) {\n        axios.delete(\"https://api.vschool.io/chrismiller/thing/\" + thingsArray[index]._id)\n            .then(res => setThingsArray(prevThingArray => {\n                return prevThingArray.filter(thing => thing._id !== thingsArray[index]._id)\n            }))\n            .catch(err => console.log(err))\n    }\n\n    const [edits, setEdits] = React.useState({\n        title: \"\",\n        imgUrl: \"\",\n        description: \"\",\n    })\n\n    function handleEditChange(e) {\n        const { name, value } = e.target\n        setEdits(prevEdits => ({ ...prevEdits, [name]: value }))\n    }\n\n    const [isEditing, setIsEditing] = React.useState(-1)\n\n    function handleEditSave(index) {\n        thingsArray.map(thing => {\n            setIsEditing(-1)\n            axios.put(\"https://api.vschool.io/chrismiller/thing/\" + thingsArray[index]._id, edits)\n                .then(res => setThingsArray(prevThingsArray => {\n                    return prevThingsArray.map(thing => {\n                        return thing._id === thingsArray[index]._id ? edits : thing\n                    })\n                }))\n                .catch(err => console.log(err))\n        })\n    }\n\n    return (\n        <ListContext.Provider value={{ edits, isEditing, setIsEditing, setEdits, handleEditSave, handleEditChange, handleChange, handleDelete, handleSubmit, thing, thingsArray, setThingsArray }}>\n            {props.children}\n        </ListContext.Provider>\n    )\n\n}\n\n\n\nexport { UglyContext, ListContext }"]},"metadata":{},"sourceType":"module"}